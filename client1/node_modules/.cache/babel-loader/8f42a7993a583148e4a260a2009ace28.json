{"ast":null,"code":"import _defineProperty from\"/Users/jayanth/Downloads/awesomexperience/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/jayanth/Downloads/awesomexperience/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jayanth/Downloads/awesomexperience/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jayanth/Downloads/awesomexperience/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jayanth/Downloads/awesomexperience/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Avatar,Container,Grid,Paper,TextField,Typography}from'@material-ui/core';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import React,{useState,Fragment}from'react';import useStyle from'./styles';import Input from'./Input';import{Button}from'@material-ui/core';import{GoogleLogin}from'react-google-login';import Icon from'./Icon';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import{signup,signin}from'../../actions/auth';var initialState={firstName:'',lastName:'',email:'',password:'',confirmPassword:''};var Auth=function Auth(){var state=null;var classes=useStyle();var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSignup=_useState2[0],setisSignup=_useState2[1];var history=useHistory();var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showPassword=_useState4[0],setshowPassword=_useState4[1];var _useState5=useState(initialState),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setformData=_useState6[1];var switchMode=function switchMode(){setisSignup(function(previsSignup){return!previsSignup;});handleShowPassword(false);};var googleSuccess=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var result,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(res);result=res.profileObj;token=res.tokenId;try{dispatch({type:'AUTH',data:{result:result,token:token}});history.push('/');}catch(error){console.log(error);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function googleSuccess(_x){return _ref.apply(this,arguments);};}();var googleFailure=function googleFailure(){console.log(\"no\");};var handleShowPassword=function handleShowPassword(){return setshowPassword(function(prevShowPassword){return!prevShowPassword;});};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(formData);if(isSignup){dispatch(signup(formData,history));}else{dispatch(signin(formData,history));}};var handleChange=function handleChange(e){console.log(e.target.name);console.log(e.target.value);setformData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(Paper,{className:classes.paper,elevation:3},/*#__PURE__*/React.createElement(Avatar,{className:classes.avatar},/*#__PURE__*/React.createElement(LockOutlinedIcon,null)),/*#__PURE__*/React.createElement(Typography,{variant:\"h5\"},isSignup?\"sign up\":\"sign in\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},isSignup&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Input,{name:\"firstName\",label:\"First Name\",handleChange:handleChange,autoFocus:true,half:true}),/*#__PURE__*/React.createElement(Input,{name:\"lastName\",label:\"Last Name\",handleChange:handleChange,half:true})),/*#__PURE__*/React.createElement(Input,{name:\"email\",label:\"Email Address\",handleChange:handleChange,type:\"email\"}),/*#__PURE__*/React.createElement(Input,{name:\"password\",label:\"Password\",type:showPassword?'text':'password',handleChange:handleChange,handleShowPassword:handleShowPassword}),isSignup&&/*#__PURE__*/React.createElement(Input,{name:\"confirmPassword\",label:\"Repeat Password\",handleChange:handleChange,type:\"password\"})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},isSignup?\"sign up\":\"sign in\"),/*#__PURE__*/React.createElement(GoogleLogin,{clientId:\"565551954008-h9a47mosnsbmq65hnkqta8r8ks5ilsuv.apps.googleusercontent.com\",render:function render(renderProps){return/*#__PURE__*/React.createElement(Button,{className:classes.googleButton,color:\"primary\",fullWidth:true,onClick:renderProps.onClick,disabled:renderProps.disabled,startIcon:/*#__PURE__*/React.createElement(Icon,null),variant:\"contained\"},\"Google Sign In\");},onSuccess:googleSuccess,onFailure:googleFailure,cookiePolicy:\"single_host_origin\"}),/*#__PURE__*/React.createElement(Grid,{container:true,justifyContent:\"flex-end\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Button,{onClick:switchMode},isSignup?'have an account sign-in':'dont have an account sign-up'))))));};export default Auth;","map":{"version":3,"sources":["/Users/jayanth/Downloads/awesomexperience/client/src/components/Auth/Auth.js"],"names":["Avatar","Container","Grid","Paper","TextField","Typography","LockOutlinedIcon","React","useState","Fragment","useStyle","Input","Button","GoogleLogin","Icon","useDispatch","useHistory","signup","signin","initialState","firstName","lastName","email","password","confirmPassword","Auth","state","classes","dispatch","isSignup","setisSignup","history","showPassword","setshowPassword","formData","setformData","switchMode","previsSignup","handleShowPassword","googleSuccess","res","console","log","result","profileObj","token","tokenId","type","data","push","error","googleFailure","prevShowPassword","handleSubmit","e","preventDefault","handleChange","target","name","value","paper","avatar","form","submit","renderProps","googleButton","onClick","disabled"],"mappings":"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","sourcesContent":["import { Avatar,Container, Grid, Paper, TextField, Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport React,{useState, Fragment} from 'react';\nimport useStyle from './styles';\nimport Input from './Input';\nimport { Button } from '@material-ui/core';\nimport {GoogleLogin } from 'react-google-login';\nimport Icon from './Icon';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { signup,signin } from '../../actions/auth';\nconst initialState = { firstName: '', lastName: '', email: '', password: '', confirmPassword: '' };\nconst Auth = () => {\n    const state = null ;\n    const classes = useStyle();\n    const dispatch = useDispatch(); \n    const [isSignup,setisSignup] = useState(false);\n    const history = useHistory();\n    const [showPassword,setshowPassword]=useState(true);\n     const [formData,setformData]= useState(initialState);\n    const switchMode=()=>{\n        \n        setisSignup((previsSignup)=>!previsSignup);\n        handleShowPassword(false);\n    };\n    const googleSuccess = async (res) => {\n            console.log(res);\n            const result = res.profileObj;\n            const token = res.tokenId;\n\n            try {\n                dispatch({type:'AUTH',data:{result,token}});\n                history.push('/')\n            } catch (error) {\n                console.log(error)\n            }\n           \n    }\n    const googleFailure = () => {\n            console.log(\"no\");\n    }\n    const handleShowPassword = () => setshowPassword((prevShowPassword)=>!prevShowPassword);\n   \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(formData);\n        if(isSignup){\n            dispatch(signup(formData,history));\n        }\n        else{\n            dispatch(signin(formData,history));\n        }\n\n    }\n    const handleChange = (e) => {\n        console.log(e.target.name);\n        console.log(e.target.value);\n        setformData({...formData,[e.target.name]:e.target.value})\n    }\n    return (\n       <Container component=\"main\" maxWidth=\"xs\">\n           <Paper className={classes.paper} elevation={3}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon></LockOutlinedIcon>\n                </Avatar>\n                <Typography variant=\"h5\">{isSignup?`sign up`:`sign in`}</Typography>\n                <form className={classes.form} onSubmit={handleSubmit}>\n                    <Grid container spacing={2}>\n                    {isSignup&&(\n                        <Fragment>\n                            <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\n                            <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half />\n                        </Fragment>\n                    )}\n                    \n                    <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\n                    <Input name=\"password\" label=\"Password\" type={showPassword?'text':'password'} handleChange={handleChange} handleShowPassword={handleShowPassword}/>\n                    {isSignup&&<Input name=\"confirmPassword\" label=\"Repeat Password\" handleChange={handleChange} type=\"password\"/>}\n                    </Grid>\n                    <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\n                        {isSignup?`sign up`:`sign in`}\n                    </Button>\n                    <GoogleLogin \n                     clientId=\"565551954008-h9a47mosnsbmq65hnkqta8r8ks5ilsuv.apps.googleusercontent.com\"\n                     render={(renderProps)=>(\n                         <Button className={classes.googleButton} color=\"primary\" fullWidth onClick={renderProps.onClick} disabled={renderProps.disabled} startIcon={<Icon />}  variant=\"contained\">\n                             Google Sign In</Button>\n                     )}\n                     onSuccess={googleSuccess}\n                     onFailure={googleFailure}\n                     cookiePolicy=\"single_host_origin\"\n                    />\n                    <Grid container justifyContent=\"flex-end\">\n                            <Grid item>\n                                <Button onClick={switchMode}>\n                                    {isSignup?'have an account sign-in':'dont have an account sign-up'}\n                                </Button>\n                            </Grid>\n                    </Grid>\n                     \n                </form>\n           </Paper>\n       </Container>\n    )\n}\nexport default Auth;"]},"metadata":{},"sourceType":"module"}